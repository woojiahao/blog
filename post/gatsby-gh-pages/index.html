<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=theme-color content="dark"><title>Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven? | jiahao.blog</title>
<meta property="og:site_name" content="jiahao.blog"><meta property="og:title" content="Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven? | jiahao.blog"><meta itemprop=name content="Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven? | jiahao.blog"><meta name=twitter:title content="Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven? | jiahao.blog"><meta name=application-name content="Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven? | jiahao.blog"><meta name=twitter:card content="summary"><meta name=description content="A deep dive into creating a continuous deployment system using Gatsby.js, GitHub Actions, and GitHub Pages"><meta name=twitter:description content="A deep dive into creating a continuous deployment system using Gatsby.js, GitHub Actions, and GitHub Pages "><meta itemprop=description content=" A deep dive into creating a continuous deployment system using Gatsby.js, GitHub Actions, and GitHub Pages "><meta property="og:description" content=" A deep dive into creating a continuous deployment system using Gatsby.js, GitHub Actions, and GitHub Pages "><meta property="og:type" content="article"><meta property="article:publisher" content="Jia Hao (jiāháo)"><meta property="og:article:published_time" content=2020-04-14T00:00:00Z><meta property="article:published_time" content=2020-04-14T00:00:00Z><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven?","author":{"@type":"Person","name":"Jia Hao (jiāháo)"},"datePublished":"2020-04-14","description":"A deep dive into creating a continuous deployment system using Gatsby.js, GitHub Actions, and GitHub Pages","wordCount":2455,"mainEntityOfPage":"True","dateModified":"2020-04-14","publisher":{"@type":"Organization","name":"Jia Hao (jiāháo)","logo":{"@type":"imageObject","url":"\/favicon.ico"}}}</script><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/sass/main.min.ab99ff095f832511e24ffb2fba2b51ad473b2f7e9301d674eba2c6c3a6e8bd81.css></head><script>(function(){const e="ThemeColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="ThemeColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.userColorScheme="dark":document.documentElement.dataset.userColorScheme="light"})()</script><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/><span class=emoji>☃️
</span>jiahao.blog</a></div><div class=flex><a href=/articles/>Articles</a>
<button id=dark-mode-button><svg class="light" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)" viewBox="0 0 36 36"><path fill="#ffd983" d="M30.312.776C32 19 20 32 .776 30.312c8.199 7.717 21.091 7.588 29.107-.429C37.9 21.867 38.03 8.975 30.312.776z"/><path d="M30.705 15.915a1.163 1.163.0 101.643 1.641 1.163 1.163.0 00-1.643-1.641zm-16.022 14.38a1.74 1.74.0 000 2.465 1.742 1.742.0 100-2.465zm13.968-2.147a2.904 2.904.0 01-4.108.0 2.902 2.902.0 010-4.107 2.902 2.902.0 014.108.0 2.902 2.902.0 010 4.107z" fill="#ffcc4d"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)"/></svg><svg class="dark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)" viewBox="0 0 36 36"><path fill="#ffd983" d="M16 2s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2V2zm18 14s2 0 2 2-2 2-2 2h-2s-2 0-2-2 2-2 2-2h2zM4 16s2 0 2 2-2 2-2 2H2s-2 0-2-2 2-2 2-2h2zm5.121-8.707s1.414 1.414.0 2.828-2.828.0-2.828.0L4.878 8.708s-1.414-1.414.0-2.829c1.415-1.414 2.829.0 2.829.0l1.414 1.414zm21 21s1.414 1.414.0 2.828-2.828.0-2.828.0l-1.414-1.414s-1.414-1.414.0-2.828 2.828.0 2.828.0l1.414 1.414zm-.413-18.172s-1.414 1.414-2.828.0.0-2.828.0-2.828l1.414-1.414s1.414-1.414 2.828.0.0 2.828.0 2.828l-1.414 1.414zm-21 21s-1.414 1.414-2.828.0.0-2.828.0-2.828l1.414-1.414s1.414-1.414 2.828.0.0 2.828.0 2.828l-1.414 1.414zM16 32s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2v-2z"/><circle fill="#ffd983" cx="18" cy="18" r="10"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)"/></svg></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>Gatsby.js + GitHub Actions + GitHub Pages = Match Made in Heaven?</h1><div class=post-meta><div>By Jia Hao (jiāháo) | <time>April 14, 2020</time>
| 12 minutes</div><div class=tags><a href=/tags/tutorial/>Tutorial</a>
<a href=/tags/guide/>Guide</a>
<a href=/tags/gatsby.js/>Gatsby.js</a>
<a href=/tags/github-actions/>GitHub Actions</a>
<a href=/tags/github-pages/>GitHub Pages</a>
<a href=/tags/continuous-deployment/>Continuous Deployment</a>
<a href=/tags/javscript/>Javscript</a>
<a href=/tags/github/>GitHub</a></div></div></div></div></header></article><div class=article-post><p>After a long hiatus induced by the demons that was school, I have finally defeated the final boss and graduated!</p><p>With that, I have started to work on re-building my portfolio site (you&rsquo;re seeing it right now!). I wanted to
learn <a href=https://www.gatsbyjs.org/>Gatsby.js</a> and so I figured it would be the best time to do so! While working with
Gatsby.js, one of the issues that I had faced was not having a proper guide on deploying Gatsby.js applications onto
GitHub Pages via GitHub Actions. The official documentation does include
a <a href=https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/>guide</a> on
perform <a href=https://www.atlassian.com/continuous-delivery/continuous-deployment>Continuous Deployment (CD)</a>
via <a href=https://travis-ci.org/>Travis.CI</a> but I wanted to mess around
with <a href=https://github.com/features/actions>GitHub Actions</a> - GitHub&rsquo;s own CI/CD pipeline.</p><p>So I decided to experiment with building my own workflow and document my process. It was quite interesting how I got to
the current refinement of my CD workflow and I will be sharing a little on the mistakes that I had made and the lessons
learnt.</p><h2 id=why-gatsbyjs><a href=#why-gatsbyjs class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Why Gatsby.js?</h2><p>Taken directly from Gatsby&rsquo;s web description&mldr;</p><blockquote><p>Gatsby.js is a PWA (Progressive Web App) generator.</p></blockquote><p>It may seem a little odd at first but basically, Gatsby.js is a static site generator built around React. It ties
together various React plugins - like <code>react-router</code> and <code>webpack</code> - to create a seamless development experience when
creating static sites.</p><p>A static site is a site where a framework is used but the library generates the resulting HTML/CSS/JS files. In doing
so, the site is far more performant than dynamic sites that take time to execute the code of the framework. Gatsby.js
performs all the execution when creating a bundle and we simply deploy this bundle to GitHub pages or any web hosting
platform to have our site up and running.</p><p>In a future post, I will be covering the merits of a static site generator - specifically Gatsby.js - but for now, let&rsquo;s
move on to our next tool, <strong>GitHub Pages!</strong></p><h2 id=why-github-pages><a href=#why-github-pages class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Why GitHub Pages?</h2><p>GitHub pages is&mldr;</p><blockquote><p>GitHub Pages is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on
GitHub, optionally runs the files through a build process, and publishes a website.</p></blockquote><p>(Definition taken from <a href=https://help.github.com/en/github/working-with-github-pages/about-github-pages>here</a>)</p><p>I would like to focus on these four hyper-critical words: &ldquo;static site hosting service&rdquo;. Recall when I mentioned that
Gatsby.js is a static site generator? These four words are like music to my ears! It means that once we have generated
that bundle with Gatsby.js, we can use GitHub Pages to host our website!</p><p>This is awesome because I needed a cheap (if not nothing) hosting provider to host my portfolio website. GitHub Pages
will deploy the site directly from a GitHub repository, providing seamless integration and it is super userful for
creating documentation sites for your projects!</p><p>A big perk to using GitHub Pages is that you can have a <strong>user page</strong>. This is created from a repository that follows
this naming pattern: <code>&lt;GitHub username>.github.io</code>. When using a user page, you will receive access to the <code>.github.io</code>
domain. This is useful for portfolio sites as it now means that we are able to deploy our portfolio page and have a
domain name like <code>woojiahao.github.io</code>!</p><p>You can find out more about GitHub
pages <a href=https://help.github.com/en/github/working-with-github-pages/about-github-pages>here</a> and more about user
pages <a href=https://help.github.com/en/github/working-with-github-pages/about-github-pages#types-of-github-pages-sites>here.</a></p><h2 id=why-github-actions><a href=#why-github-actions class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Why GitHub Actions?</h2><p>Finally, we have the star of the evening - <strong>GitHub Actions!</strong></p><blockquote><p>GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and
deploy your code right from GitHub.</p></blockquote><p>(Definition taken from <a href=https://github.com/features/actions>here</a>)</p><p>GitHub Actions allows us to develop CI/CD workflows that integrates directly with GitHub. For our use case, we can use
the default tier.</p><p>I picked GitHub Actions primarily because I was intrigued by it and wanted to give it a spin. I had adopted it when
working on <a href=/projects/post/torrent.go><strong>torrent.go</strong></a> (a BitTorrent protocol implementation written with Go!) and
found that it was rather unique in its approach so I wanted to test it out even more.</p><h2 id=chief-what-is-our-plan-of-attack><a href=#chief-what-is-our-plan-of-attack class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Chief! What is our plan of attack?</h2><p>First, I would like to discuss the final strategy that I took to deploy my portfolio site to GitHub pages.</p><p>To begin, we need to outline the strict limitation of user sites&mldr;</p><blockquote><p>If the repository for your user or organization site has a master branch, your site will publish automatically from
that branch. You cannot choose a different publishing source for user or organization sites.</p></blockquote><p>This means that for our site, if we are using <code>woojiahao.github.io</code>, we MUST publish the site to the <code>master</code> branch.</p><p>Our CD workflow looks a little like this:</p><ol><li><p>We push our latest changes in Gatsby.js (including new blog posts, project listings, or just site changes) to
a <code>develop</code> branch</p><p>As we may have multiple sets of changes that we push at different times, we do not want our site to be deployed
immediately. Instead, we move on to step dos!</p></li><li><p>We will merge the changes into a <code>publish</code> branch. On merge, we should automatically deploy our application.</p></li><li><p>Now this is where it gets tricky, we need to build our Gatsby.js page - to create the bundle - and set the contents
of this bundle to the contents of the <code>master</code> branch.</p></li></ol><p>This is where you can see our consideration of the limitation mentioned above take effect. However, by setting
the <code>master</code> branch to be a &ldquo;dump&rdquo; for the bundle files, it would be hard for us to navigate our GitHub repository. This
is why we need to properly setup our branches to allow for this peculiar workflow!</p><h2 id=go-go-go><a href=#go-go-go class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Go, go, go!</h2><p>Let&rsquo;s dive right into the configurations.</p><h3 id=setting-up-branching><a href=#setting-up-branching class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Setting up branching</h3><p>The first order of business is to properly setup our branching strategy. We will use a mix of both the GitHub UI and the
Git CLI. So if you have not installed the Git CLI, you can do
so <a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>here.</a></p><p>As mentioned in our workflow, we will be using three branches:</p><ul><li><code>master</code> - to hold the build bundle and renders the page</li><li><code>develop</code> - pseudo-master branch that we will use to host our changes in Gatsby.js</li><li><code>publish</code> - merge-only branch that we use to trigger a deployment</li></ul><p>So, let&rsquo;s first create and push the other two branches.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git checkout -b develop
</span></span><span class=line><span class=cl>$ git checkout -b publish
</span></span><span class=line><span class=cl>$ git push -u origin develop
</span></span><span class=line><span class=cl>$ git push origin publish
</span></span></code></pre></td></tr></table></div></div><p>So we checkout the <code>develop</code> branch before the <code>publish</code> branch since we want the <code>publish</code> branch to be based on the
latest changes of the <code>develop</code> branch. Don&rsquo;t worry, however, we will only be needing to checkout the <code>publish</code> branch
via the Git CLI only once to configure.</p><p>We push and set the <code>develop</code> branch to be
our <a href=https://stackoverflow.com/questions/4693588/what-is-a-tracking-branch>tracking branch</a> as from now on, we want to
permanently push to the remote <code>develop</code> branch.</p><p>We also push the <code>publish</code> branch to create the remote branch.</p><p>If you go to the repository in GitHub and expand the &ldquo;Branch&rdquo; dropdown, you should see that there will be three branches
now.</p><p><img loading=lazy src=/post/gatsby-deployment-tutorial/remote-branches.png alt="GitHub remote branches" width=333 height=280></p><p>Once done, we can now continue our branching configurations in the GitHub UI.</p><p>Under &ldquo;Settings > Branches&rdquo;, there is an option for the &ldquo;Default branch&rdquo;. Normally, it is the <code>master</code> branch. However,
as mentioned earlier, we want to be able to view and access our repository easily (and have the all-so-important
language colors be right!). So, we will change the default branch to be <code>develop</code>.</p><p><img loading=lazy src=/post/gatsby-deployment-tutorial/default-branch.png alt="GitHub changing default branches" width=1103 height=254></p><p>Once we have configured these two aspects, we are done with our branching strategy! Let&rsquo;s move on to the real meat of
this CD - the workflow!</p><h3 id=creating-the-workflow><a href=#creating-the-workflow class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Creating the workflow</h3><p>GitHub Actions will look out for <strong>workflows</strong> in our repository to determine what actions are to be run. These
workflows are stored in the <code>.github/workflows</code> folder.</p><p>We can just name our CD workflow as <code>deploy.yml</code>. Yes, these workflow files are declared as YAML documents - like Docker
Compose!</p><pre tabindex=0><code>/
|_.github/
  |_workflows/
    |_deploy.yml
</code></pre><p>Then, we can start to configure our workflow. Fire up your favourite text editor and let&rsquo;s begin!</p><p>The first thing we will configure is when this workflow will run. As mentioned earlier, we want to deploy our site only
when we push to the <code>publish</code> branch via a merge, thus, we will have the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>publish</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Then, we can start declaring our jobs aka the thing that runs. GitHub Actions allows us to configure concurrent jobs or
jobs that rely on one another, but I will not be going into detail about those in this post. If you want more
information, please refer to the
documentation <a href=https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobs>here.</a></p><p>This workflow will only require one job and we can call it <code>deploy</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>We then specify what is the underlying OS the CD will use to execute this workflow.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Then we declare strategies. From my understanding, these are variables that we can use and we can declare them as arrays
to allow us to execute the workflow on multiple versions of Node for instance.</p><p>However, in our case, we can make do with just having one version of Node since we are building once. If you require
more details about strategies in GitHub Actions,
refer <a href=https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstrategy>here.</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>strategy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>matrix</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>node_version</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=m>13.</span><span class=l>x ]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Finally, we can declare our steps for the workflow.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>First, checkout the repository so that our workflow can access it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v1</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Then, we setup Node in out Ubuntu machine. We use the <code>node_version</code> we declared in our strategy.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=l>${{ matrix.node_version }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Then, we install <code>gatsby-cli</code> and the necessary dependencies for our static site to be generated.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install -g gatsby-cli &amp;&amp; npm install --no-optional</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Then, we set the Git credentials as we are using the <code>gh-pages</code> npm package to deploy our site. I will explain further
later on.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>git config --global user.email &#34;&lt;insert GitHub email&#34; &amp;&amp; git config --global user.name &#34;&lt;insert desired name&gt;&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Lastly, we can build the site bundle and deploy it. I have used a custom script declared in the <code>package.json</code> and a
GitHub token, both of which I will be discussing below.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GH_TOKEN</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GH_TOKEN }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>There it is. We have created the workflow for deploying our application. However, we have some missing components that
we have yet to configure so buckle up for our last set of configurations.</p><p>A sample of the whole workflow file looks like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>publish</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy website to Github Pages with Gatsby</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>strategy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>matrix</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>node_version</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=m>13.</span><span class=l>x ]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Node.js version ${{ matrix.node_version }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-node@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>node-version</span><span class=p>:</span><span class=w> </span><span class=l>${{ matrix.node_version }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Installing Gatsby CLI</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install -g gatsby-cli &amp;&amp; npm install --no-optional</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setting Git credentials</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>git config --global user.email &#34;woojiahao1234@gmail.com&#34; &amp;&amp; git config --global user.name &#34;woojiahao&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy the site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm run deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>GH_TOKEN</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GH_TOKEN }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=creating-a-deploy-script><a href=#creating-a-deploy-script class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Creating a deploy script</h3><p>We are using the <code>gh-pages</code> to automatically push the build bundle to the <code>master</code> branch. We will need to setup
a <code>deploy</code> script in our <code>package.json</code> to use this package. This script will build the bundle and deploy it to
the <code>master</code> branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>  <span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>...,</span>
</span></span><span class=line><span class=cl><span class=nt>&#34;deploy&#34;</span><span class=p>:</span> <span class=s2>&#34;gatsby build &amp;&amp; gh-pages -d public -b master -r https://$GH_TOKEN@github.com/woojiahao/woojiahao.github.io.git&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=err>,</span>
</span></span></code></pre></td></tr></table></div></div><p>I would like to focus in on the command for <code>gh-pages</code>.</p><pre tabindex=0><code>gh-pages -d public -b master -r ...
</code></pre><p><code>-d</code> indicates which folder the build bundle is located. In Gatsby.js case, it is the <code>public/</code> folder.</p><p><code>-b</code> indicates which branch we will push the build bundle to. By default, it is the <code>gh-pages</code> branch. But as I have
explained, we need it to be the <code>master</code> branch.</p><p><code>-r</code> indicates the GitHub repsitory we will be pushing too. This uses the <code>GH_TOKEN</code> environment variable that we have
loaded into the workflow. It also leads us nicely to the next and final configuration we need to perform - getting a
GitHub access token.</p><h3 id=shhh--access-tokens-and-secrets><a href=#shhh--access-tokens-and-secrets class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Shhh! &mldr; (Access tokens and secrets)</h3><p>The last ingredient to this workflow recipe is a GitHub access token.</p><p>We can generate a personal access token under &ldquo;Settings > Developer settings > Personal access tokens > Generate new
token&rdquo;.</p><p><img loading=lazy src=/post/gatsby-deployment-tutorial/access-token-location.png alt="GitHub access token settings location" width=1098 height=229></p><p>When generating the token, restrict the token&rsquo;s scope to <code>repo</code> only.</p><p><img loading=lazy src=/post/gatsby-deployment-tutorial/create-token.png alt="GitHub create token" width=834 height=471></p><p>You will receive a token once you create it. Copy this token to your clipboard and save it somewhere secure.</p><p>Then, go to the Gatsby.js repository and under &ldquo;Settings > Secrets&rdquo;, select &ldquo;Add a new secret&rdquo;. The name of the secret
must be <code>GH_TOKEN</code> and the value is the copied token.</p><p><img loading=lazy src=/post/gatsby-deployment-tutorial/add-secret.png alt="GitHub add secret" width=1113 height=474></p><p>For more information about personal access tokens and GitHub secrets in GitHub Actions, you can check these links
out: <a href=Ben2020#2762>access tokens</a>
and <a href=https://help.github.com/en/actions/configuring-and-managing-workflows/using-variables-and-secrets-in-a-workflow>secrets.</a></p><p>And we are done! This was all the configuration we needed to get the CD workflow working!</p><h3 id=it-works><a href=#it-works class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>IT WORKS!!</h3><p>We can test whether the workflow works by making a merge request from <code>develop</code> to <code>publish</code>. When we accept the merge
request, it will push the changes to the <code>publish</code> branch and in turn, trigger the workflow and deploy our site.</p><p>Now, just sit back and enjoy as the deployment happens automatically.</p><h2 id=mistakes-were-made><a href=#mistakes-were-made class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Mistakes were made&mldr;</h2><p>While experimenting with GitHub Actions, I had several &ldquo;duh&rdquo; moments.</p><h3 id=yaml-disaster><a href=#yaml-disaster class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>YAML disaster</h3><p>When I was writing the first iteration of the workflow file, I failed to read the documentation for GitHub secrets and
had incorrectly set the environment variable.</p><p>FYI, environment variables should be declared like this</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>&lt;key&gt;</span><span class=p>:</span><span class=w> </span><span class=l>&lt;value&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>and not like this</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>env</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GH_TOKEN }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Because I had declared it improperly, I was not able to access the <code>GH_TOKEN</code> token in my workflow and it caused the
workflow to fail. It took me a while to realise what I had done.</p><h3 id=repository-takeover><a href=#repository-takeover class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Repository takeover!</h3><p>When I was first designing my workflow, I had actually completely forgotten that there were branches outside
of <code>developer</code> and <code>master</code>. Originally, I had created a completely separate repository to house my development code.
This left the original repository to be a hosting platform for the build bundle.</p><p>It took me a while to realise how impractical and unnecessary this was and I re-designed the workflow.</p><h2 id=conclusion><a href=#conclusion class=anchor><svg class="icon" aria-hidden="true" focusable="false" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>
</a>Conclusion</h2><p>Overall, this was an interesting journey! I learnt a fair bit about Gatsby.js and GitHub Actions along the way. If you
wish to view the Gatsby.js project I use for my portfolio site, you can visit
it <a href=https://github.com/woojiahao/woojiahao.github.io>here</a></p></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/post/heroku-kotlin-discord-bot/ title="Previous post (older)"><span>Previous</span>
Heroku x Docker x Discord bot x Kotlin
</a><a rel=next href=/post/deploying-discord-bot-kotlin/ title="Next post (newer)"><span>Next</span>
Deploying discord bots written in Kotlin to Heroku</a></nav></div><div class=container><div class=disqus-container></div><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links><a href=https://woojiahao.com>About Me</a>
<a href=/index.xml>RSS</a></nav></section><script defer src=/ts/features.706a523ba43e6d0427c7fdf2b9d05dbd0920d3f12942b453690b495cb2522743.js data-enable-footnotes=true></script></footer></body></html>